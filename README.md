# Code Security Modernizer

Инструмент для автоматической модернизации кода с использованием возможностей Ollama AI.

## Что исправляет

1. Инъекции (SQL, NoSQL, командные, LDAP)
2. Межсайтовый скриптинг (XSS) - хранимый, отраженный, DOM-based
3. Подделка межсайтовых запросов (CSRF)
4. Небезопасные десериализации
5. Использование компонентов с известными уязвимостями
6. Недостатки логирования и мониторинга
7. Неправильные настройки безопасности
8. Раскрытие конфиденциальных данных
9. Недостатки контроля доступа (вертикальный/горизонтальный)
10. Некорректная аутентификация и управление сессиями
11. Ошибки конфигурации безопасности
12. Защита от атак перебора
13. Небезопасная работа с памятью (переполнение буфера, use-after-free)
14. Некорректная валидация входных данных и санитизация
15. Проблемы с криптографией (слабые алгоритмы, неправильное использование)
16. Ошибки конкурентного доступа (race conditions)
17. Небезопасные прямые ссылки на объекты (IDOR)
18. SSRF (Server-Side Request Forgery)
19. XXE (XML External Entity)
20. Path traversal и file inclusion

## Установка

1. Установите [Ollama](https://ollama.ai/)
2. Клонируйте репозиторий:
```bash
git clone https://github.com/LevPro/code-security
cd code-security
```
3. Установите зависимости: 
```bash
pip install -r requirements.txt
```

## Использование
```bash
python main.py /path/to/php/project -m codellama:7b -e php phtml -ed "/full/path/vendor" "/full/path/.git" -ep "*.test.php" "temp_*"
```
Параметры командной строки:
- directory (обязательный): Путь к директории с PHP-проектом
- -m/--model (обязательный): Имя модели Ollama. Рекомендуется использовать instruct модели.
- -e/--extensions: Расширения файлов для обработки (по умолчанию: php)
- -ed/--exclude-dirs - полные пути к директориям для исключения (опционально)
- -ef/--exclude-files - полные пути к файлам для исключения (опционально)
- -ep/--exclude-patterns - маски для исключения (например, *.test.php, temp_*) (опционально)